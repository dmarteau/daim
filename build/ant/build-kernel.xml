<project name="build_kernel" basedir="../..">

  <!-- Note that we are expecting to be located in a subfolder of the source tree -->
  <property name="wspdir" value="${basedir}/.."/>

  <!-- get common build properties  -->
  <import file="${wspdir}/build-tools/buildProperties.xml"/>

  <tstamp>
	<format property="timestamp" pattern="yyyyMMddHH" timezone="GMT-0"/>
  </tstamp>
  	
  <target name="generateHeader">
  	<echo message="Generate ${outputFile} from ${inputFile}"/>
  	<loadfile property="inputXML" srcFile="${inputFile}"/> 
  	<echo file="${outputFile}"><![CDATA[/*
 * Daim kernel definitions
 * Auto generated files DO NOT CHANGE
 * 
 * ${timestamp}
 */
]]></echo>
  	<script language="javascript" src="${basedir}/build/ant/build-kernel.js"/>
  </target> 
  
  <target name="generateHeaderContent">
  	<echo file="${outputFile}" append="true">${outputContent}</echo>
  </target>

</project>
